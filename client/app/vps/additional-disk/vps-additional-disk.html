<div data-ng-controller="AdditionalDiskCtrl" id="vpsTabAdditionalDisk">
    <div data-ovh-alert="vps_additional_disk_alert"></div>

    <div class="row-fluid" data-ng-show="loading.information">
        <div class="span12 loader"></div>
    </div>

    <div class="row-fluid" data-ng-show="!loading.information && !error && !hasAdditionalDiskOption">
        <div class="span9 alert">
            <span data-i18n-static="vps_tab_additional_disk_not_available"></span>
        </div>
    </div>

    <div class="row-fluid" data-ng-show="!loading.information && !error && hasAdditionalDiskOption">
        <div class="span9">
            <div>
                <span data-ng-bind="trpl('vps_tab_additional_disk_count', additionalDisks.length, [additionalDisks.length])"></span>
            </div>
            <a data-ng-if="guideURL" data-ng-href="{{ guideURL }}" target="_blank">
                <span data-i18n-static="vps_tab_additional_disk_guide"></span>
                <i class="icon-share-alt"></i>
            </a>
            <!-- ------------------------------------- -->
            <div data-ng-if="additionalDisks.length > 0">
                <table class="table pretty">
                    <thead>
                    <tr>
                        <th data-i18n-static="vps_tab_additional_disk_header_id"></th>
                        <th data-i18n-static="vps_tab_additional_disk_header_size"></th>
                        <th data-i18n-static="vps_tab_additional_disk_header_state"></th>
                    </tr>
                    </thead>

                    <tbody>
                    <tr data-ng-repeat="disk in additionalDisks track by disk.id">
                        <td data-ng-bind="::disk.id"></td>
                        <td data-ng-bind="::disk.size"></td>
                        <td data-ng-bind="tr('vps_tab_additional_disk_state_' + disk.state)"></td>
                    </tr>
                    </tbody>
                </table>
                <div class="table table-pretty"
                     data-pagination-front
                     data-items="disks"
                     data-transform-item="transformItem(item)"
                     data-paginated-items="disksDetails"
                     data-current-page="currentPage"
                     data-nb-pages="nbPages"
                     data-items-per-page="itemsPerPage"
                     data-on-transform-item-done="onTransformItemDone(items)"
                     data-page-placeholder="{{tr('pagination_page', [currentPage, nbPages])}}"
                     data-item-per-page-placeholder="{{tr('pagination_display')}}">
                </div>
            </div>
            <!-- ------------------------------------- -->
        </div>
        <div class="span3">
            <div>
                <button data-ng-if="additionalDisks.length === 0"
                        class="btn btn-block btn-action"
                        data-ng-class="{'btn-large' : viewMode === 'simple'}"
                        data-ng-click="setAction('additional-disk/order/vps-additional-disk-order')">
                    <i class="icon icon-vps-additionnal-disk"></i>
                    <span data-i18n-static="vps_additional_disk_add_button"></span>
                </button>
                <!-- Div instead of disabled button ==> Hack to allow tooltip to appear in IE and chronium anyway since mouseevents aren't handled correctly.  UXMCLOUD-765' -->
                <div data-ng-if="additionalDisks.length > 0"
                        class="btn btn-block btn-action disabled"
                        data-ng-class="{'btn-large' : viewMode === 'simple'}"
                        data-tooltip="{{ tr('vps_additional_disk_add_button_soon') }}"
                        data-tooltip-placement="top">
                    <i class="icon icon-vps-additionnal-disk"></i>
                    <span data-i18n-static="vps_additional_disk_add_button"></span>
                </div>
            </div>
        </div>
    </div>
</div>
